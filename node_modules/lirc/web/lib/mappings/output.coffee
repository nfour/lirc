
web = require '../web'

# socket.io events

module.exports		=
web.mappings.output	= [
	[
		'msg'
		(msg) ->
			return false if not web.client
			# could probably parse it as well, send seperate events - perhaps based on socketio "rooms"

			web.io.sockets.emit 'msg', msg
	]
	[
		'data'
		(data) ->
			return false if not web.client
			lines = data.split '\r\n'
			lines.pop()

			for line in lines
				web.io.sockets.emit 'data', line
	]
]


		