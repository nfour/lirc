## Suckle

`npm install suckle`

Suckle is a stream multiplexer for node. You pass it as many writable streams as you want, and it exposes a simple chainable API for treating them as if they were only one. Suckle also allows you to pass in a callback which is supplied the accumulated data.

```js

var Suckle = require('suckle')

var mux = new Suckle(process.stdout)

mux.pipe(process.stdout).write('asdf\n')

process.stdin.resume()
process.stdin.pipe(mux)

```

The main problem Suckle solves is when you need a callback, to return the piped data. As a case study, say you have a static file server. Ideally, you would like to pipe node's file readStream to gzip, and then to the client. Fine. But what if you also need to cache that gzipped data in an object, for subsequent requests? With Suckle you can!

```js

var fs   = require('fs')
var zlib = require('zlib')
var http = require('http')

var Suckle = require('suckle')

http.createserver(function(req, res) {

    var mux = new Suckle(res, function(data) {
        /*
            Here's your gzipped data 
        */
    })

    fs.createReadStream('somefile.jpg')
    .pipe(zlib.createGzip())
    .pipe(mux)

}).listen(8080)


```

*Suckle is used internally by [Lactate](https://github.com/Weltschmerz/Lactate)*
