
lirc = require '../../lirc'

{type} = Function

# cluster events, emitted to the master

module.exports = {
	message: (message) ->
		return false if type( message ) isnt 'object'

		# message is { cmd: '', args: [], workerId: 0 }

		if message.cmd is 'emit'
			lirc.botnet.emit.apply lirc.botnet, message.args # allows web to listen and output bot messages to the frontend

			lirc.botnet.send message

	exit: (data) ->
		lirc.emit 'botexit', lirc.parse.data data
	
}
