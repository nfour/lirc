
events	= require 'events'
cluster	= require 'cluster'
lirc	= require '../lirc'
botnet	= require './botnet'

module.exports	=
botnet.emitter	= new events.EventEmitter()

botnet.on = () -> botnet.emitter.on.apply botnet.emitter, arguments

botnet.emit = (name, arg = '') ->
	if name isnt '*'
		arguments.callee '*', [name, arg]
		lirc.emit 'BOTMSG', name, arg

	botnet.emitter.emit name, arg

botnet.emitter._events = {}

