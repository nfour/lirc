
lirc = require '../lirc'

###
	One of these will be called (in order) if the msg.cmd
	matches via regexp or a string comparison
###

module.exports = [
	[
		'PRIVMSG'
		(msg) ->
			console.log 'privmsg', msg
	]
	[
		'PING'
		(msg) ->
			lirc.send "PONG #{ msg.from }"
	]
	[
		/37[256]/
		(msg) ->
			str = msg.words.join(' ') + '\r\n'

			# if beggining of motd, reset it, else append
			if msg.cmd is '375'
				lirc.session.server.motd = str
			else
				lirc.session.server.motd += str
	]
	[
		'*'
		(msg) ->
			console.log msg

	]
]
