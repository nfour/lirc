
var Stream = require('stream').Stream
var util = require('util')

var Accumulate = require('accumulate')

function WritableStream(cb) {
    Stream.call(this)
    var accumulate = Accumulate()
    this.writable = true
    this.write = accumulate
        
    this.end = function() {
        if (cb) {
            return cb(null, accumulate().data)
        }
    }
}

util.inherits(WritableStream, Stream)

module.exports = WritableStream
